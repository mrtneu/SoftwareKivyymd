#:kivy 2.0
ScreenManager:
    Primera:
    Segunda:
    Tercera:
    Cuarta:

<Primera>:
    name:'1'
    MDTopAppBar:
        pos_hint: {'center_x': 0.5,'center_y':0.96}
        elevation: 2
        title: "Añadir estampilla"
        md_bg_color: 0.56, 0.79, 0.18, 1
        specific_text_color: 'black'
        font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'
    ScrollView:
        pos_hint: {'center_x': 0.5,'center_y':0.4}
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            padding: dp(5)
            spacing: dp(5)
            MDTextField:
                id:Nombre
                hint_text: "Nombre"
                text_color: 0, 0, 0, 1
                line_color_normal: 0.56, 0.79, 0.18, 1
                line_color_focus: 0.56, 0.79, 0.18, 1
                hint_text_color_focus: 0.56, 0.79, 0.18, 1
                text_color_focus: 'black'

            MDTextField:
                id:Año
                hint_text: "Año"
                input_filter: 'int'
                text_color: 0, 0, 0, 1
                line_color_normal: 0.56, 0.79, 0.18, 1
                line_color_focus: 0.56, 0.79, 0.18, 1
                hint_text_color_focus: 0.56, 0.79, 0.18, 1
                text_color_focus: 'black'

            MDTextField:
                id:País
                hint_text: "País"
                text_color: 0, 0, 0, 1
                line_color_normal: 0.56, 0.79, 0.18, 1
                line_color_focus: 0.56, 0.79, 0.18, 1
                hint_text_color_focus: 0.56, 0.79, 0.18, 1
                text_color_focus: 'black'

            MDTextField:
                id:Descripción
                hint_text: "Descripción"
                multiline: True
                text_color: 0, 0, 0, 1
                line_color_normal: 0.56, 0.79, 0.18, 1
                line_color_focus: 0.56, 0.79, 0.18, 1
                hint_text_color_focus: 0.56, 0.79, 0.18, 1
                text_color_focus: 'black'

            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: dp(200)

                MDTextField:
                    id:Imagen_texto
                    hint_text: "Imagen"
                    size_hint_x: 0.7
                    text_color: 0, 0, 0, 1
                    line_color_normal: 0.56, 0.79, 0.18, 1
                    line_color_focus: 0.56, 0.79, 0.18, 1
                    hint_text_color_focus: 0.56, 0.79, 0.18, 1
                    text_color_focus: 'black'

                MDRaisedButton:
                    font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'
                    text: "cargar imagen"
                    size_hint_x: 0.2
                    on_press: root.select_file()
                    text_color: 0, 0, 0, 1
                    md_bg_color: 0.56, 0.79, 0.18, 1
                    title_color: 0, 0, 0, 1
                    pos_hint: {'center_x': 0.5,'center_y':0.2}


            Image:
                id:Imagen
                source: ''
                size_hint_y: None
                height: dp(200)

    MDFillRoundFlatIconButton:
        text:'Guardar'
        icon:'content-save'
        icon_color:'black'
        pos_hint: {'center_x': 0.09,'center_y':0.05}
        md_bg_color: 0.56, 0.79, 0.18, 1
        text_color: 'black'
        font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'
        on_press: app.guardar_datos()


    MDFillRoundFlatIconButton:
        text: 'Modificar'
        icon: "pencil"
        icon_color: 'black'
        pos_hint: {'center_x': 0.9,'center_y':0.05}
        on_press:
            root.manager.current ='2'
            root.manager.transition.direction = 'left'
    
        md_bg_color: 0.56, 0.79, 0.18, 1
        text_color: 'black'
        font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'


<Segunda>:
    name:'2'
    MDBoxLayout:
        orientation:"vertical"
        md_bg_color: "white"
        MDTopAppBar:
            pos_hint: {'center_x': 0.5,'center_y':0.96}
            elevation: 2
            title: "Modificar estampilla"
            md_bg_color: 0.56, 0.79, 0.18, 1
            specific_text_color: 'black'
            font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'
        MDBoxLayout:
            padding:30
            orientation:"vertical"

            MDScrollView:
                MDList:
                    id:lista
        MDFillRoundFlatIconButton:
            text: 'Dengue'
            icon: "plus"
            icon_color: 'black'
            pos_hint: {'center_x':0.1,'center_y':0.05}
            on_press:
                root.manager.current = '1'
                root.manager.transition.direction = 'right'
            md_bg_color: 0.56, 0.79, 0.18, 1
            text_color: 0, 0, 0, 1
            font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'
        MDFillRoundFlatIconButton:
            text: 'Lista'
            icon: "list-box-outline"
            icon_color: 'black'
            pos_hint: {'center_x': 0.9,'center_y':0.05}
            on_press:
                root.manager.current = '3'
                root.manager.transition.direction = 'left'
            md_bg_color: 0.56, 0.79, 0.18, 1
            text_color: 0, 0, 0, 1
            font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'
<Tercera>:

    name: '3'

    MDBoxLayout:
        orientation: "vertical"
        md_bg_color: 1, 1, 1, 1  # Blanco en formato RGBA

        MDTopAppBar:
            pos_hint: {'center_x': 0.5, 'center_y': 0.96}
            elevation: 10
            title: "Lista de Estampillas"
            md_bg_color: 0.56, 0.79, 0.18, 1  # Color verde
            specific_text_color: 0, 0, 0, 1  # Negro
            font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'

        MDBoxLayout:
            padding: 10
            orientation: "vertical"

            MDScrollView:
                GridLayout:
                    cols: 2
                    adaptive_height: True
                    padding: 10
                    spacing: 10

                    MDCard:
                        size_hint: (None, None)
                        size: ("240dp", "180dp")
                        MDBoxLayout:
                            orientation: 'vertical'
                            Image:
                                source: 'fruit1.jpg'
                                height: "120dp"
                            MDLabel:
                                text: 'Apple'
                                halign: 'center'
                                theme_text_color: 'Secondary'
                            MDLabel:
                                text: '63.7 MB'
                                halign: 'center'
                                theme_text_color: 'Secondary'

                    # Repite el MDCard con ajustes similares para otras imágenes

        MDFillRoundFlatIconButton:
            text: 'Modificar'
            icon: "pencil"
            pos_hint: {'center_x': 0.5, 'center_y': 0.1}
            md_bg_color: 0.56, 0.79, 0.18, 1
            text_color: 0, 0, 0, 1
            font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'
            on_press:
                root.manager.current = '2'
                root.manager.transition.direction = 'right'


<Cuarta>:
    name: '4'
    MDBoxLayout:
        orientation: 'vertical'
        padding: 20

        MDTopAppBar:
            title: "Modificar Estampilla"
            pos_hint: {'center_x': 0.5, 'center_y': 0.96}
            elevation: 2
            md_bg_color: 0.56, 0.79, 0.18, 1
            specific_text_color: 'black'
            font_name: 'assets/fuentes/ArchivoNarrow-Regular.ttf'

        MDTextField:
            id: data_input
            hint_text: "Datos de la Estampilla"
            multiline: True

        MDRaisedButton:
            text: "Guardar Cambios"
            pos_hint: {'center_x': 0.5}
            on_release:
                app.save_changes()